(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{0:function(e,t){},"4FNd":function(e,t,a){e.exports=a.p+"static/img/loading-gif-transparent-2.d452daa.gif"},"8Vjh":function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return i}));var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container main",attrs:{id:"result"}},[e.display_label?a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("span",[e._v(e._s(e.display_label))]),e._v(" "),a("b-button-close",{staticClass:"btn",on:{click:function(t){return e.closeDisplay()}}})],1),e._v(" "),e.url_3D?a("div",{staticClass:"card-body"},[a("iframe",{staticClass:"display-container",attrs:{src:e.url_3D,frameborder:"0"}})]):e._e(),e._v(" "),e.display_graph?a("div",{staticClass:"row card-body"},[e._m(0),e._v(" "),a("div",{staticClass:"col-2"},[a("br"),e._v(" "),a("div",{attrs:{id:"color-table"}},[a("h5",[e._v("Filter Edges")]),e._v(" "),e._l(e.all_edges,(function(t){return a("div",{key:t.id,staticClass:"form-check",on:{change:e.renderGraph}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.selected_edges,expression:"selected_edges"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{value:t.id,checked:Array.isArray(e.selected_edges)?e._i(e.selected_edges,t.id)>-1:e.selected_edges},on:{change:function(a){var s=e.selected_edges,i=a.target,r=!!i.checked;if(Array.isArray(s)){var l=t.id,n=e._i(s,l);i.checked?n<0&&(e.selected_edges=s.concat([l])):n>-1&&(e.selected_edges=s.slice(0,n).concat(s.slice(n+1)))}else e.selected_edges=r}}}),e._v(" "),a("label",{staticClass:"form-check-label",style:{color:t.color,"background-color":"transparent"}},[e._v("\n              "+e._s(t.name)+"\n            ")])])}))],2),e._v(" "),a("br"),e._v(" "),a("h5",[e._v("Info")]),e._v("\n        "+e._s(e.selected_info)+"\n      ")])]):e._e()]):e._e(),e._v(" "),a("br"),e._v(" "),a("h3",[e._v("\n    Results for "+e._s(e.$route.params.job_id)+"\n  ")]),e._v(" "),a("table",{staticClass:"table table-striped"},[e._m(1),e._v(" "),e.result?a("tbody",[e._l(e.result.models,(function(t,s){return[e._l(t,(function(t,i){return[a("tr",{key:s+i},[a("td",[e._v(e._s(s))]),e._v(" "),a("td",[e._v(e._s(i.slice(0,1)))]),e._v(" "),a("td",[e._v(e._s(i.slice(1,2)))]),e._v(" "),a("td",[t.PDB?a("button",{staticClass:"btn btn-secondary",on:{click:function(a){e.open2D(t.PDB.PDB,t.parsed_bonds,i.slice(0,1)+" and "+i.slice(1,2)+" chains from model "+s)}}},[e._v("2D Display")]):e._e()]),e._v(" "),a("td",[t.PDB?a("button",{staticClass:"btn btn-secondary",on:{click:function(a){e.open3D(t.PDB.PDB,i.slice(0,1),i.slice(1,2),i.slice(0,1)+" and "+i.slice(1,2)+" chains from model "+s)}}},[e._v("3D Display")]):e._e()]),e._v(" "),a("td",[t.PDB?a("a",{attrs:{href:t.PDB.PDB}},[e._v("PDB File")]):e._e()]),e._v(" "),a("td",[a("a",{attrs:{target:"_blank",href:t.Results.XML}},[e._v("XML File")]),e._v(" "),a("br"),e._v(" "),a("a",{attrs:{target:"_blank",href:t.Results.TXT}},[e._v("TXT File")])]),e._v(" "),a("td",[t.Logs?a("a",{attrs:{target:"_blank",href:t.Logs.MSMS}},[e._v("MSMS")]):e._e(),e._v(" "),a("br"),e._v(" "),t.Logs?a("a",{attrs:{target:"_blank",href:t.Logs.HBPlus}},[e._v("HBPlus")]):e._e()])])]}))]}))],2):e._e()]),e._v(" "),e.result?e._e():a("div",{staticClass:"alert alert-danger"},[e._v("\n    Fetching results\n  ")])])},i=[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"col-10"},[t("div",{staticClass:"display-container",attrs:{id:"graph-container"}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",[e._v("Model")]),e._v(" "),a("th",[e._v("Chain 1")]),e._v(" "),a("th",[e._v("Chain 2")]),e._v(" "),a("th",{attrs:{colspan:"2"}},[e._v("View Results")]),e._v(" "),a("th",[e._v("PDB")]),e._v(" "),a("th",[e._v("Results")]),e._v(" "),a("th",[e._v("Logs")])])])}]},Ak6W:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n(a("jWXv")),i=n(a("GQeE")),r=n(a("b3l/")),l=n(a("X1uE"));function n(e){return e&&e.__esModule?e:{default:e}}t.default={name:"Result",components:{ButtonClose:l.default,vueSlider:r.default},data:function(){return{result:"",display_label:"",display_graph:!1,url_3D:!1,selected_edges:[],selected_info:"",dist_filter:[0,15],all_edges:{HYDPHB:{id:"HYDPHB",name:"Hydrophobic",color:"#880000"},ELCSTA:{id:"ELCSTA",name:"Electrostatic",color:"#000088"},HYBOND:{id:"HYBOND",name:"Hydrogen Bond",color:"#008800"},SLTBDG:{id:"SLTBDG",name:"Salt Bridge",color:"#6e0088"}},open_xml:{},s:void 0}},mounted:function(){this.selected_edges=(0,i.default)(this.all_edges),this.$http.get(this.$server_url+"/results/"+this.$route.params.job_id).then((function(e){this.result=e.body}),(function(e){console.error(e),alert("File job fetch failed. Check your browser console for details")}))},methods:{open3D:function(e,t,a,s){this.closeDisplay(),this.display_label=s,this.url_3D="http://3dmol.csb.pitt.edu/viewer.html?url="+e+"\n      &select=chain:"+t+"&style=cartoon:color~green\n      &select=chain:"+a+"&style=cartoon:color~yellow;stick"},parsepdb:function(e){var t=[],a=[],s={},i=0;return e.split("\n").forEach((function(e){var r=void 0,l=void 0,n=void 0;if("ATOM"===e.slice(0,4)){l=e.substring(17,21).trim(),r=e.substring(21,22).trim(),n=e.substring(22,26).trim(),s[r]||(s[r]=parseInt(n));var o=r+n;t.length&&t[t.length-1].id===o||(t.length&&t[t.length-1].id[0]===r?a.push({id:a.length,label:r+" backbone",source:t[t.length-1].id,target:o,color:"#666",size:.1}):i=t.length,t.push({id:o,label:o+": "+l,x:2*(parseInt(n)-s[r]),y:i,color:"#666",size:.1}))}})),{nodes:t,edges:a}},extractParsedXML:function(e,t){var a=this,i=[],r=[],l=new s.default;return JSON.parse(e).BONDS.BOND.forEach((function(e,s){var n=e.RESIDUE[0].chain._text+e.RESIDUE[0]._attributes.index,o=e.RESIDUE[1].chain._text+e.RESIDUE[1]._attributes.index;l.has(n)||(i.push({id:n,label:n+": "+e.RESIDUE[0].name._text,x:2*i.length,y:50,size:1,color:"#008888"}),l.add(n)),l.has(o)||(i.push({id:o,label:o+": "+e.RESIDUE[0].name._text,x:3*i.length,y:0,size:1}),l.add(o)),t.includes(e.type._text)&&(parseFloat(e.dist._text)<a.dist_filter[0]||parseFloat(e.dist._text)>a.dist_filter[1]||r.push({id:"Bond "+(s+1),label:a.all_edges[e.type._text].name,size:1/parseFloat(e.dist._text),source:n,target:o,color:a.all_edges[e.type._text].color,type:e.type._text,dist:e.dist._text}))})),{nodes:i,edges:r}},closeDisplay:function(){this.display_label="",this.url_3D=!1,this.display_graph=!1,this.s=void 0},open2D:function(e,t,a){var s=this;this.url_3D=!1,this.display_label=a,this.display_graph=!0,this.open_xml=t,this.s?this.renderGraph():setTimeout((function(){s.s=new sigma({renderer:{container:document.getElementById("graph-container"),type:"canvas"},settings:{drawLabels:!0,maxNodeSize:5,minEdgeSize:.2,maxEdgeSize:2,enableEdgeHovering:!0,edgeHoverSizeRatio:2,edgeHoverExtremities:!0,sideMargin:5,singleHover:!0}}),s.s.bind("overNode",(function(e){s.selected_info=""+e.data.node.label})),s.s.bind("overEdge",(function(e){var t=e.data.edge;s.selected_info="ID: "+t.id+" Type: "+t.label+" Distance: "+t.dist})),s.renderGraph()}),100)},renderGraph:function(){if(this.s){var e=this.extractParsedXML(this.open_xml,this.selected_edges);console.log(e),this.s.graph.clear(),this.s.graph.read(e),this.s.refresh()}}}}},GZVv:function(e,t,a){"use strict";a.r(t);var s=a("uEbW"),i=a.n(s);for(var r in s)"default"!==r&&function(e){a.d(t,e,(function(){return s[e]}))}(r);var l=a("b/mo"),n=a("JFUb"),o=Object(n.a)(i.a,l.a,l.b,!1,null,null,null);t.default=o.exports},I1c8:function(e,t,a){},Pf3K:function(e,t,a){"use strict";a.r(t);var s=a("so7P"),i=a.n(s);for(var r in s)"default"!==r&&function(e){a.d(t,e,(function(){return s[e]}))}(r);var l=a("Zjd2"),n=a("JFUb");var o=function(e){a("eFEL")},c=Object(n.a)(i.a,l.a,l.b,!1,o,null,null);t.default=c.exports},VZIY:function(e,t){e.exports="data:image/gif;base64,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"},Vtdi:function(e,t,a){"use strict";var s=n(a("oCYn")),i=n(a("Pf3K")),r=n(a("oYx3"));a("+eM2"),a("LdiE");var l=n(a("4rB0"));function n(e){return e&&e.__esModule?e:{default:e}}s.default.config.productionTip=!1,s.default.prototype.$server_url="http://localhost:9001",window.sigma=l.default,new s.default({el:"#app",router:r.default,components:{App:i.default},template:"<App/>"})},Zjd2:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return i}));var s=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("div",{staticClass:"header"},[t("router-link",{attrs:{to:"/"}},[t("img",{attrs:{id:"logo",src:a("VZIY")}})])],1),this._v(" "),t("router-view"),this._v(" "),t("b-navbar",{staticClass:"footer"},[t("p",[this._v("\n      MONSTER made possible by grants from the National Cancer Institute and Northwestern University\n      "),t("br"),this._v("\n      © 2003-"+this._s(this.getYear())+" Northwestern University\n    ")])])],1)},i=[]},"b/mo":function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return i}));var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container main",attrs:{id:"submit"}},[s("b-alert",{attrs:{variant:"success",dismissible:"",show:e.showSuccessAlert},on:{dismissed:function(t){e.showSuccessAlert=!1}}},[e._v("\n    Job submission succeeded. Check your email for details. The Job ID is  "+e._s(e.new_job_id)+"\n  ")]),e._v(" "),s("b-alert",{attrs:{variant:"danger",dismissible:"",show:e.showFailAlert},on:{dismissed:function(t){e.showFailAlert=!1}}},[e._v("\n    Job submission failed. Check your browser console for details\n  ")]),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm"},[s("div",{staticClass:"card"},[e._m(0),e._v(" "),s("div",{staticClass:"card-body"},[s("div",{staticClass:"form-group",class:{"has-error":e.errors.has("email")}},[s("label",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.right",modifiers:{hover:!0,right:!0}}],staticClass:"control-label",attrs:{for:"email",title:"Your job ID will be emailed to you immediately after job submission and\n                 you will receive results here when the job is complete"}},[e._v("Email")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"},{name:"validate",rawName:"v-validate",value:"required|email",expression:'"required|email"'}],staticClass:"form-control",attrs:{id:"email",type:"email",name:"email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),e._v(" "),s("p",{staticClass:"text-danger"},[e._v(e._s(e.errors.first("email")))])]),e._v(" "),s("div",{staticClass:"form-group"},[s("label",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.right",modifiers:{hover:!0,right:!0}}],staticClass:"control-label",attrs:{for:"file",title:"Upload a local file in .pdb format for analysis"}},[e._v("PDB File")]),e._v(" "),s("input",{ref:"file",staticClass:"form-control",attrs:{id:"file",type:"file"},on:{change:e.handleFileUpload}})]),e._v(" "),s("strong",[e._v("OR")]),e._v(" "),s("div",{staticClass:"form-group"},[s("label",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.right",modifiers:{hover:!0,right:!0}}],staticClass:"control-label",attrs:{for:"pdb_id",title:"Enter the 4 character PDB ID to load directly from the Protein Data\n                  Bank"}},[e._v("PDB ID")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.pdb_id,expression:"pdb_id"},{name:"validate",rawName:"v-validate",value:{regex:/[A-Za-z0-9]{4}/},expression:"{regex: /[A-Za-z0-9]{4}/ }"}],staticClass:"form-control",attrs:{id:"pdb_id",type:"pdb_id",name:"pdb_id"},domProps:{value:e.pdb_id},on:{input:function(t){t.target.composing||(e.pdb_id=t.target.value)}}}),e._v(" "),s("p",{staticClass:"text-danger"},[e._v(e._s(e.errors.first("pdb_id")))])]),e._v(" "),s("button",{staticClass:"btn btn-primary btn-block",attrs:{type:"button",disabled:!e.file&&!e.pdb_id},on:{click:e.parseText}},[e._v("Next")])])])]),e._v(" "),s("div",{staticClass:"col-sm"},[e.all_chains.length?e._e():s("div",{staticClass:"card"},[s("div",{staticClass:"card-header alert-danger"},[e._v("\n          Upload a PDB file to continue\n        ")])]),e._v(" "),e.all_chains.length?s("div",{attrs:{id:"accordion"}},[s("div",{staticClass:"card"},[e._m(1),e._v(" "),s("div",{staticClass:"collapse show",attrs:{id:"collapseOne","aria-labelledby":"chains"}},[s("div",{staticClass:"card-body"},[s("button",{staticClass:"btn btn-sm btn-secondary",on:{click:e.selectAllChains}},[e._v("\n                Select all\n              ")]),e._v(" "),e._l(e.all_chains,(function(t){return s("div",{key:t.name,staticClass:"form-check"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.selected_chains,expression:"selected_chains"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{value:t,checked:Array.isArray(e.selected_chains)?e._i(e.selected_chains,t)>-1:e.selected_chains},on:{change:function(a){var s=e.selected_chains,i=a.target,r=!!i.checked;if(Array.isArray(s)){var l=t,n=e._i(s,l);i.checked?n<0&&(e.selected_chains=s.concat([l])):n>-1&&(e.selected_chains=s.slice(0,n).concat(s.slice(n+1)))}else e.selected_chains=r}}}),e._v(" "),s("label",{staticClass:"form-check-label"},[e._v("\n                  "+e._s(t.name)+": "+e._s(t.start)+"-"+e._s(t.end)+"\n                ")])])}))],2)])]),e._v(" "),s("div",{staticClass:"card"},[e._m(2),e._v(" "),s("div",[s("div",{staticClass:"card-body"},[e.selected_chains.length<2?s("div",{staticClass:"alert alert-warning",attrs:{role:"alert"}},[e._v("\n                Select at least 2 protein chains to continue\n              ")]):e._e(),e._v(" "),e.selected_chains.length>=2?s("button",{staticClass:"btn btn-sm btn-secondary",on:{click:e.selectAllPairs}},[e._v(" Select all")]):e._e(),e._v(" "),e._l(e.all_pairs,(function(t){return s("div",{key:t,staticClass:"form-check"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.selected_pairs,expression:"selected_pairs"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{value:t,checked:Array.isArray(e.selected_pairs)?e._i(e.selected_pairs,t)>-1:e.selected_pairs},on:{change:function(a){var s=e.selected_pairs,i=a.target,r=!!i.checked;if(Array.isArray(s)){var l=t,n=e._i(s,l);i.checked?n<0&&(e.selected_pairs=s.concat([l])):n>-1&&(e.selected_pairs=s.slice(0,n).concat(s.slice(n+1)))}else e.selected_pairs=r}}}),e._v(" "),s("label",{staticClass:"form-check-label"},[e._v(e._s(t))])])})),e._v(" "),s("br"),e._v(" "),e.loading?s("img",{attrs:{width:"50px",src:a("4FNd")}}):e._e(),e._v(" "),e.loading?e._e():s("button",{staticClass:"btn btn-primary w-100",attrs:{type:"button",disabled:!(e.selected_pairs.length&&e.email)},on:{click:e.submitJob}},[e._v("Analyze")])],2)])])]):e._e()]),e._v(" "),s("div",{staticClass:"col-sm"},[s("div",{staticClass:"card"},[e._m(3),e._v(" "),s("div",{staticClass:"card-body"},[s("div",{staticClass:"form-group"},[s("label",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.right",modifiers:{hover:!0,right:!0}}],staticClass:"control-label",attrs:{for:"Job ID",title:"Enter the 10 character Job ID you received at the time of job\n                    submission to retrieve the results"}},[e._v("\n              Job ID\n            ")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.job_id,expression:"job_id"}],staticClass:"form-control",attrs:{id:"Job ID",type:"text"},domProps:{value:e.job_id},on:{input:function(t){t.target.composing||(e.job_id=t.target.value)}}})]),e._v(" "),s("strong",[e._v("OR")]),e._v(" "),s("div",{staticClass:"form-group"},[s("label",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.right",modifiers:{hover:!0,right:!0}}],staticClass:"control-label",attrs:{for:"ret_pdb_id",title:"Enter the 4 character PDB ID to load precalculated MONSTER results"}},[e._v("\n              PDB ID\n            ")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.ret_pdb_id,expression:"ret_pdb_id"},{name:"validate",rawName:"v-validate",value:{regex:/[A-Z0-9]{4}/},expression:"{regex: /[A-Z0-9]{4}/ }"}],staticClass:"form-control",attrs:{id:"ret_pdb_id",type:"ret_pdb_id",name:"ret_pdb_id",disabled:""},domProps:{value:e.ret_pdb_id},on:{input:function(t){t.target.composing||(e.ret_pdb_id=t.target.value)}}}),e._v(" "),s("p",{staticClass:"text-danger"},[e._v(e._s(e.errors.first("ret_pdb_id")))])]),e._v(" "),s("button",{staticClass:"btn btn-primary btn-block",attrs:{type:"button",disabled:!e.job_id&&!e.ret_pdb_id},on:{click:e.getResult}},[e._v("\n            Get Result\n          ")])])])])])],1)},i=[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"card-header"},[t("h3",[this._v("File Upload/Enter PDB ID")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"card-header",attrs:{id:"chains"}},[t("h5",{staticClass:"mb-0"},[this._v("\n              Chains\n            ")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"card-header"},[t("h5",{staticClass:"mb-0"},[this._v("\n              Select Chain Pairs\n            ")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"card-header"},[t("h3",[this._v("Retrieve a result")])])}]},eFEL:function(e,t,a){},oYx3:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n(a("oCYn")),i=n(a("jE9Z")),r=n(a("GZVv")),l=n(a("xGN8"));function n(e){return e&&e.__esModule?e:{default:e}}s.default.use(i.default),t.default=new i.default({routes:[{path:"/",name:"Submit",component:r.default},{path:"/result/:job_id",name:"Result",component:l.default}]})},so7P:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"App",methods:{getYear:function(){return(new Date).getFullYear()}}}},uEbW:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=o(a("FyfS")),i=o(a("oCYn")),r=o(a("e7F3")),l=o(a("KN3F")),n=o(a("X1uE"));function o(e){return e&&e.__esModule?e:{default:e}}i.default.use(n.default),i.default.use(l.default),i.default.use(r.default);t.default={name:"Submit",data:function(){return{file:"",pdb_id:"",email:"",file_path:"fake_path",value:[],all_chains:[],selected_chains:[],selected_pairs:[],new_chain:{},monster_url:i.default.prototype.$server_url+"/jobxml",job_id:"",new_job_id:"",ret_pdb_id:"",loading:!1,showSuccessAlert:!1,showFailAlert:!1}},computed:{all_pairs:function(){return function(e){for(var t=[],a=0;a<e.length-1;a++)for(var s=a+1;s<e.length;s++)t.push(e[a].name+e[s].name);return t}(this.selected_chains)}},watch:{selected_chains:function(){this.selected_pairs=[]}},methods:{getResult:function(){this.$router.push({name:"Result",params:{job_id:this.job_id}})},handleFileUpload:function(){this.file=this.$refs.file.files[0]},parseText:function(){var e=new FormData;e.append("pdbFile",this.file),e.append("pdbId",this.pdb_id),e.append("email",this.email),this.$http.post(this.$server_url+"/upload",e).then((function(e){console.log(e),this.all_chains=e.body.chains,this.file_path=e.body.file_path,this.selected_pairs=[]}),(function(e){alert("File Upload failed. Check your browser console for details"),console.error(e)}))},selectAllChains:function(){this.selected_chains===this.all_chains?this.selected_chains=[]:this.selected_chains=this.all_chains},selectAllPairs:function(){this.selected_pairs===this.all_pairs?this.selected_pairs=[]:this.selected_pairs=this.all_pairs},submitJob:function(){var e=this;if(this.email){var t=new FormData,a=this.makeXML();t.append("xml",a[0]),t.append("job_id",a[1]),this.loading=!0,this.$http.post(this.monster_url,t).then((function(e){return e.text()})).then((function(){e.loading=!1,e.new_job_id=a[1],e.showSuccessAlert=!0,e.selected_pairs=[]})).catch((function(t){e.loading=!1,console.error(t),e.showFailAlert=!0}))}else alert("Missing required fields")},getChainXML:function(e){var t=!0,a=!1,i=void 0;try{for(var r,l=(0,s.default)(this.all_chains);!(t=(r=l.next()).done);t=!0){var n=r.value;if(n.name===e)return"<Chain index='"+n.name+"'><Start>"+n.start+"</Start><End>"+n.end+"</End><Natural>"+n.name+"</Natural></Chain>"}}catch(e){a=!0,i=e}finally{try{!t&&l.return&&l.return()}finally{if(a)throw i}}},makeXML:function(){var e=Math.random().toString(36).slice(-10),t="<ChainPairs index='"+e+"' protons='false'><File>"+this.file_path+"</File><Email>"+this.email+"</Email><IP>Unknown</IP><OS>Unknown</OS>",a=!0,i=!1,r=void 0;try{for(var l,n=(0,s.default)(this.selected_pairs);!(a=(l=n.next()).done);a=!0){var o=l.value;t+="<ChainPair index='"+o+"'>"+this.getChainXML(o[0])+this.getChainXML(o[1])+"</ChainPair>"}}catch(e){i=!0,r=e}finally{try{!a&&n.return&&n.return()}finally{if(i)throw r}}var c=""+(t+="</ChainPairs>");return console.log(c),[c,e]},escapeXml:function(e){return e.replace(/[<>&'']/g,(function(e){switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case"'":return"&apos;";case'"':return"&quot;"}}))}}}},xGN8:function(e,t,a){"use strict";a.r(t);var s=a("Ak6W"),i=a.n(s);for(var r in s)"default"!==r&&function(e){a.d(t,e,(function(){return s[e]}))}(r);var l=a("8Vjh"),n=a("JFUb");var o=function(e){a("I1c8")},c=Object(n.a)(i.a,l.a,l.b,!1,o,"data-v-9a61e08e",null);t.default=c.exports}},[["Vtdi",1,2]]]);
//# sourceMappingURL=0.5c951cd30291ee9dae07.js.map